<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord - WarabaGuinée</title>
    {% load static %}
    {% load widget_tweaks %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
         <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        *{
          padding: 0; margin: 0;
          font-family:'Poppins', sans-serif;
          box-sizing: border-box;
          transition: all.2 linear;
          text-decoration: none;
          list-style-type: none;border:none;
      }
      html{
          font-size: 80.5%;
          scroll-padding-top: 7em;
          scroll-behavior: smooth;
      }
      
      body {
          font-family: 'Orbitron', sans-serif;
          margin: 0;
          padding: 0;
          background: #fff;
          color: #0b0c0e;
          overflow-x: hidden;
          display: flex;
          flex-direction: column;
          height: 100vh;
      }
      .top-bar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 10px 20px;
          background-color: #333;
          
      }
      .top-bar h1 {
          flex: 1;
          text-align: center;
          font-size: 24px;
          text-transform: uppercase;
          letter-spacing: 2px;
          font-weight: 700;
          color:#fff;
      }
      @media screen and (max-width: 767px) {
          .top-bar h1 {
              font-size: 18px;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
          }
          .menu-btn {
              font-size:15px;
              margin-right: 10px;
          }
      }
     /* Style du sidebar */
/* Style du sidebar */
.sidebar {
width: 250px;
height: 100%;
position: fixed;
left: -250px;
top: 0;
background: linear-gradient(145deg, #2c2c2c, #383838);
border-right: 1px solid rgba(255, 140, 0, 0.2);
padding-top: 20px;
overflow-y: auto; /* Permet de scroller si nécessaire */
transition: left 0.3s ease;
z-index: 20;
border-right: 2px solid #000;
box-sizing: border-box; /* Gestion correcte du padding */
}

.sidebar.active {
left: 0;
}

.sidebar a {
display: block;
padding: 15px 20px;
color: #fff;
text-decoration: none;
font-size: 16px;
text-transform: uppercase;
transition: background 0.3s;
font-weight: 600;
min-height: 50px;
}

.sidebar a {
  transition: background-color 0.3s ease-in-out;
}

.sidebar a:hover {
  background-color: #FF8C00;
}


.sidebar hr {
text-align: center;
color: white;
margin-top: 10px;
font-size: 20px;
}

.sidebar h2 {
text-align: center;
margin-top: 10px;
font-size: 20px;
color: white;
}

.logo-container {
text-align: center;
padding: 15px;
}

.logo {
width: 100px;
height: 100px;
border-radius: 50%;
border: 3px solid #000;
}

.menu-btn {
background: none;
border: none;
color: #fff;
font-size: 30px;
cursor: pointer;
z-index: 30;
transition: transform 0.2s ease;
}

.menu-btn:hover {
transform: scale(1.1);
}


/* Style du contenu principal */
.content {
  padding-top: 60px; /* Ajustez cette valeur selon la hauteur de votre top-bar */
  margin-left: 0;
  padding: 20px;
  min-height: calc(100vh - 60px); /* Ajuste la hauteur minimale pour éviter le débordement */
  transition: margin-left 0.3s ease;
  margin-left: 250px;
  transition: background 0.3s ease;
}





/* Responsiveness pour les petits écrans (moins de 767px) */
@media screen and (max-width: 767px) {
  .sidebar {
    width: 100%;
    left: -100%;
    height: 100vh; /* Hauteur complète pour toute la page */
    position: absolute;
    overflow-y: auto; /* Permet de scroller si nécessaire */
  }

  .sidebar.active {
    left: 0;
  }

  .menu-btn {
    display: block;
  }

  .content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin:0;
    padding: 15px;
    height: 100vh;
  }


  /* Lorsque le sidebar est actif, désactiver le défilement du body */
  body.no-scroll {
    overflow: hidden;
  }
}

/* Pour les écrans plus grands (à partir de 768px) */
@media screen and (min-width: 768px) {
  .sidebar {
    left: 0;
    height: 100vh;
  }

  .menu-btn {
    display: none;
  }


}
/* Boutons futuristes */
.futuristic-btn {
  background: linear-gradient(135deg, #00aaff, #4e00ff);
  color: #fff;
  border: none;
  transition: background 0.3s ease;
}

.futuristic-btn:hover {
  background: linear-gradient(135deg, #4e00ff, #00aaff);
}



/* Structure des cartes */
.card-body {
  text-align: center; /* Centre le texte et les éléments dans la carte */
}

.card-title {
  font-size: 1.25rem; /* Ajuste la taille du titre pour une meilleure lisibilité */
  font-weight: bold;
  color: #fff; /* Titres lumineux pour plus de visibilité */
}

/* Responsive pour la grille */
@media (max-width: 767px) {
  .card-body {
    padding: 0; /* Élimine le padding inutile sur mobile */
  }

  /* Optimisation pour les images */
  .slider-images img {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  /* Ajustement de l'image pour une présentation fluide sur Android */
  .futuristic-card-item {
    width: 100%; /* Les cartes occupent toute la largeur sur mobile */
  }
}

/* Responsive pour 4 images par ligne */
@media (min-width: 768px) {
  .col-md-3 {
    width: 25%; /* 4 images par ligne sur tablette et plus */
  }
}

/* Responsive tablette et grand écran */
@media (min-width: 1200px) {
  .col-lg-3 {
    width: 25%; /* 4 images par ligne sur grand écran */
  }
}

/* Style de l'icône de robot */
.fas.fa-robot {
  color: #00aaff; /* Couleur futuriste */
  opacity: 0.7;
}


/* Responsive pour 4 images par ligne */
@media (min-width: 768px) {
  .col-md-3 {
    width: 25%; /* 4 images par ligne sur tablette et plus */
  }
}

/* Responsive tablette et grand écran */
@media (min-width: 1200px) {
  .col-lg-3 {
    width: 25%; /* 4 images par ligne sur grand écran */
  }
}

/* Style général de la notification */
.notification-box {
  position: fixed;
  top: 15%; /* Ajuste ici la position pour qu'elle soit plus proche du haut */
  right: 10px;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  background-color: #1e1e1e; /* Fond plus sombre pour un effet futuriste */
  color: #fff;
  border-radius: 15px; /* Coins plus arrondis pour un style moderne */
  padding: 15px 25px; /* Plus de padding pour un effet plus spacieux */
  box-shadow: 0 8px 20px rgba(0, 255, 255, 0.3); /* Ombre lumineuse */
  z-index: 9999;
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease-in-out;
}

/* Pointe de la boîte */
:root {
  --bg-color: rgba(255, 255, 255, 0.97);
  --text-color: #333;
  --border-color: rgba(0, 0, 0, 0.1);
  --progress-gradient: linear-gradient(90deg, rgba(78, 115, 255, 0.8), rgba(46, 204, 113, 0.8));
  --mobile-breakpoint: 768px;
}

.messages-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding-top: 20px;
  z-index: 9999;
  pointer-events: none;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.messages-container {
  max-width: 600px;
  width: 90%;
  pointer-events: auto;
  padding: 10px;
}

.notification-modal {
  position: relative;
  margin-bottom: 15px;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  transform: translateY(-30px) scale(0.95);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  backdrop-filter: blur(12px);
  overflow: hidden;
  background: var(--bg-color);
  color: var(--text-color);
  border: 1px solid var(--border-color);
  width: 100%;
  box-sizing: border-box;
}

.notification-modal.show {
  transform: translateY(0) scale(1);
  opacity: 1;
}

.notification-modal.closing {
  transform: translateY(-20px) scale(0.95);
  opacity: 0;
}

.notification-icon {
  position: absolute;
  left: 20px;
  top: 20px;
  font-size: 24px;
  color: var(--primary-color, #4e73ff);
}

.notification-content {
  padding-left: 40px;
  padding-right: 20px;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.close-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 16px;
  opacity: 0.6;
  transition: all 0.2s ease-out;
  color: inherit;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  touch-action: manipulation;
}

.close-btn:hover {
  opacity: 1;
  background: rgba(0, 0, 0, 0.05);
}

.progress-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  width: 100%;
  background: var(--progress-gradient);
  transform-origin: left;
  transition: width 5s linear;
}

/* Effet de "glow" subtil */
.notification-modal::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: rgba(255, 255, 255, 0.2);
  box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.15);
}

/* Animation d'entrée spécifique pour chaque notification */
.notification-modal:nth-child(1) { transition-delay: 0.1s; }
.notification-modal:nth-child(2) { transition-delay: 0.2s; }
.notification-modal:nth-child(3) { transition-delay: 0.3s; }

/* Responsive Design */
@media (max-width: 768px) {
  .messages-overlay {
      padding-top: 10px;
      align-items: center;
      justify-content: flex-start;
      flex-direction: column;
  }
  
  .messages-container {
      width: 95%;
      max-width: 100%;
      padding: 5px;
  }
  
  .notification-modal {
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 10px;
  }
  
  .notification-icon {
      left: 15px;
      top: 15px;
      font-size: 20px;
  }
  
  .notification-content {
      padding-left: 35px;
      padding-right: 15px;
      font-size: 14px;
  }
  
  .close-btn {
      top: 10px;
      right: 10px;
      width: 24px;
      height: 24px;
      font-size: 14px;
  }
  
  .progress-bar {
      height: 2px;
  }
}

@media (max-width: 480px) {
  .notification-modal {
      padding: 12px;
  }
  
  .notification-icon {
      left: 12px;
      top: 12px;
      font-size: 18px;
  }
  
  .notification-content {
      padding-left: 30px;
      padding-right: 10px;
  }
  
  .notification-modal::after {
      display: none; /* Supprime l'effet glow sur petits écrans */
  }
}

/* Support pour les appareils tactiles */
@media (hover: none) {
  .close-btn {
      opacity: 0.8; /* Rend le bouton plus visible sur mobile */
      background: rgba(0, 0, 0, 0.1);
  }
}

/* Amélioration pour les très grands écrans */
@media (min-width: 1600px) {
  .messages-container {
      max-width: 700px;
  }
}

 /* Style pour le champ description */
 .description-input {
  font-size: 1.1rem; /* Taille de police légèrement réduite */
  font-weight: bold; /* Texte en gras */
  padding: 8px; /* Espacement intérieur */
  border: 2px solid #ced4da; /* Bordure grise moderne */
  border-radius: 5px; /* Coins légèrement arrondis */
  background-color: #f9f9f9; /* Fond clair */
  color: #333; /* Couleur du texte */
  width: 100%; /* Largeur adaptée au parent */
  max-width: 400px; /* Limite la largeur maximale */
  height: 40px; /* Hauteur réduite pour une seule ligne */
  transition: border-color 0.3s, box-shadow 0.3s; /* Animation douce */
}

/* Style lorsque le champ est sélectionné (focus) */
.description-input:focus {
  border-color: #007bff; /* Bordure bleue au focus */
  box-shadow: 0 0 8px rgba(0, 123, 255, 0.25); /* Ombre légère */
  background-color: #fff; /* Fond légèrement plus clair */
  outline: none; /* Retire l'outline par défaut */
}

/* Style pour le champ en cas d'erreur */
.description-input.is-invalid {
  border-color: #dc3545; /* Bordure rouge */
  box-shadow: 0 0 8px rgba(220, 53, 69, 0.25); /* Ombre rouge subtile */
  background-color: #fff5f5; /* Fond légèrement teinté */
}

/* Texte sous le champ en cas d'erreur */
.description-input + .text-danger {
  font-size: 0.9rem; /* Taille réduite pour le texte d'erreur */
  margin-top: 5px;
}
/* Style pour les icônes */
.form-label i {
  font-size: 1.5rem; /* Agrandit la taille des icônes */
  color: #555; /* Couleur des icônes pour un look épuré */
  margin-right: 8px; /* Ajoute un espacement entre l'icône et le texte */
}

/* Style pour les champs select */
select {
  font-size: 1.1rem; /* Taille de police légèrement augmentée */
  font-weight: bold; /* Texte en gras */
  padding: 10px; /* Ajoute du padding pour plus de confort */
  border: 2px solid #ced4da; /* Bordure grise moderne */
  border-radius: 5px; /* Coins arrondis */
  background-color: #f9f9f9; /* Fond clair */
  color: #333; /* Couleur du texte */
  width: 100%; /* Largeur adaptable au parent */
  max-width: 400px; /* Limite la largeur maximale */
  height: 50px; /* Hauteur augmentée pour une meilleure ergonomie */
  transition: border-color 0.3s, box-shadow 0.3s; /* Animation douce */
}

/* Focus pour les champs select */
select:focus {
  border-color: #007bff; /* Bordure bleue au focus */
  box-shadow: 0 0 8px rgba(0, 123, 255, 0.25); /* Ombre subtile */
  outline: none; /* Retire l'outline */
}

/* Style pour les champs select en cas d'erreur */
select.is-invalid {
  border-color: #dc3545; /* Bordure rouge pour les erreurs */
  box-shadow: 0 0 8px rgba(220, 53, 69, 0.25); /* Ombre rouge subtile */
  background-color: #fff5f5; /* Fond légèrement teinté en rouge */
}

/* Texte sous les champs en cas d'erreur */
select + .text-danger {
  font-size: 0.9rem; /* Taille réduite pour le texte d'erreur */
  margin-top: 5px;
}
/* Agrandir la taille des icônes près des labels */
.form-label i {
  font-size: 1.8rem; /* Taille des icônes plus grande */
  color: #555; /* Couleur neutre et moderne */
  margin-right: 10px; /* Ajout d'un espacement avec le texte */
}

/* Style général pour les checkboxes et radios */
input[type="checkbox"], input[type="radio"] {
  width: 20px; /* Largeur augmentée */
  height: 20px; /* Hauteur augmentée */
  margin-right: 10px; /* Espacement avec le label */
  cursor: pointer; /* Curseur pointer pour une meilleure UX */
  accent-color: #007bff; /* Couleur personnalisée (bleu Bootstrap) */
  transition: transform 0.2s; /* Effet de transformation pour les interactions */
}

/* Animation sur hover */
input[type="checkbox"]:hover, input[type="radio"]:hover {
  transform: scale(1.1); /* Effet de zoom léger */
}

/* Animation sur état actif */
input[type="checkbox"]:checked, input[type="radio"]:checked {
  transform: scale(1.2); /* Effet de zoom lorsqu'il est coché */
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); /* Ajout d'une ombre subtile */
}

/* Style pour les labels associés aux checkboxes et radios */
input[type="checkbox"] + label, input[type="radio"] + label {
  font-size: 1.2rem; /* Taille de texte augmentée */
  font-weight: bold; /* Texte en gras */
  margin-left: 5px; /* Espacement avec le champ */
  cursor: pointer; /* Curseur pointer pour cliquer sur le texte */
}

/* Conteneur principal pour centrer le cercle */
.loading-spinner {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%; /* Ajustez selon votre usage */
}

/* Style du cercle moderne */
.spinner-circle {
  width: 50px; /* Taille du cercle */
  height: 50px;
  border: 4px solid transparent; /* Bordure transparente pour l'effet moderne */
  border-top: 4px solid #007bff; /* Couleur principale (bleu Bootstrap) */
  border-radius: 50%; /* Forme circulaire */
  animation: spin 1s linear infinite; /* Animation de rotation */
  background: linear-gradient(90deg, rgba(0, 123, 255, 0.2), rgba(0, 123, 255, 0.6));
  background-clip: border-box;
}
/* Style commun pour tous les champs de formulaire */
input, textarea, select {
    font-size: 1.1rem; /* Taille de police commune */
    font-weight: bold; /* Texte en gras */
    padding: 10px; /* Padding pour tous les champs */
    border: 2px solid #ced4da; /* Bordure moderne */
    border-radius: 5px; /* Coins arrondis */
    background-color: #f9f9f9; /* Fond clair */
    color: #333; /* Couleur du texte */
    width: 100%; /* Largeur 100% pour tous les champs */
    max-width: 400px; /* Limite la largeur maximale */
    transition: border-color 0.3s, box-shadow 0.3s; /* Animation douce */
    margin-bottom: 15px; /* Espacement entre les champs */
  }
  
  /* Style lorsque le champ est sélectionné (focus) */
  input:focus, textarea:focus, select:focus {
    border-color: #007bff; /* Bordure bleue au focus */
    box-shadow: 0 0 8px rgba(0, 123, 255, 0.25); /* Ombre douce */
    background-color: #fff; /* Fond clair au focus */
    outline: none; /* Retire le contour par défaut */
  }
  
  /* Style pour les champs en cas d'erreur */
  input.is-invalid, textarea.is-invalid, select.is-invalid {
    border-color: #dc3545; /* Bordure rouge pour les erreurs */
    box-shadow: 0 0 8px rgba(220, 53, 69, 0.25); /* Ombre rouge subtile */
    background-color: #fff5f5; /* Fond légèrement teinté */
  }
  
  /* Texte sous les champs en cas d'erreur */
  input.is-invalid + .text-danger, textarea.is-invalid + .text-danger, select.is-invalid + .text-danger {
    font-size: 0.9rem; /* Taille réduite pour le texte d'erreur */
    margin-top: 5px;
  }
  
  /* Style des icônes près des labels */
  .form-label i {
    font-size: 1.8rem; /* Agrandit la taille des icônes */
    color: #555; /* Couleur des icônes */
    margin-right: 10px; /* Espacement entre l'icône et le texte */
  }
  
/* Animation de rotation */
@keyframes spin {
  from {
      transform: rotate(0deg);
  }
  to {
      transform: rotate(360deg);
  }
}

/* Masquer le bouton hamburger dans le sidebar */
.sidebar.active .menu-btn {
    display: none; /* Masque le bouton hamburger lorsque le sidebar est actif */
}

/* Styles pour le modal de suppression */
@media (max-width: 576px) {
    .modal-dialog {
        width: 90%; /* Largeur ajustée pour petits écrans */
        max-width: 400px; /* Limiter la taille maximale du modal */
    }

    .modal-header {
        flex-direction: column; /* Disposition en colonne pour le titre et le bouton */
        align-items: center; /* Centrer le contenu */
    }

    .modal-title {
        font-size: 1.5rem; /* Réduire la taille du titre */
        text-align: center; /* Centrer le titre */
    }

    .modal-footer {
        flex-direction: column; /* Disposition en colonne pour les boutons */
        align-items: center; /* Centrer les boutons */
    }

    .modal-footer .btn {
        width: 100%; /* Rendre les boutons de la modal pleine largeur */
        margin-top: 10px; /* Espacement entre les boutons */
    }
}



.bg-gradient-primary {
  background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
}

.card {
  border: none;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.blur-circle {
  position: absolute;
  width: 150px;
  height: 150px;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  filter: blur(20px);
  top: -50px;
  right: -50px;
}

.alert-modern {
  border: none;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.form-control, .form-select {
  border: 1px solid #e0e0e0;
  padding: 12px 15px;
  border-radius: 8px;
}

.form-control:focus, .form-select:focus {
  border-color: #4361ee;
  box-shadow: 0 0 0 0.25rem rgba(67, 97, 238, 0.15);
}

#submitBtn {
  transition: all 0.3s ease;
  border: none;
  background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
  overflow: hidden;
  position: relative;
}

#submitBtn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
}

.spinner-container {
  position: absolute;
  width: 24px;
  height: 24px;
  right: 20px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.spinner-outer {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
}

.spinner-inner {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 3px solid transparent;
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.btn-loading #buttonText {
  transform: translateX(-10px);
}

.btn-loading .spinner-container {
  opacity: 1;
}

    </style>
</head>
<body>
  <audio id="notification-sound" src="{% static 'son2.mp3' %}" preload="auto"></audio>

  {% if messages %}
  <div class="messages-overlay" id="messages-overlay">
    <div class="messages-container">
        {% for message in messages %}
            <div class="notification-modal" id="notification-{{ forloop.counter }}" data-theme="{{ theme }}">
                <div class="notification-icon">
                    <i class="fas fa-robot pulse"></i>
                </div>
                
                <div class="notification-content">
                    <div class="message">
                        {{ message }}
                    </div>
                </div>
                
                <button class="close-btn" onclick="closeNotification(this)" aria-label="Fermer">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="progress-bar"></div>
            </div>
        {% endfor %}
    </div>
  </div>
  {% endif %}
  

    <div class="top-bar">
        <button class="menu-btn" onclick="toggleSidebar()">☰</button>
        <h1>Tableau de Bord - WarabaGuinée</h1>
    </div>
    <div class="sidebar" id="sidebar">
        <div class="logo-container">
            <img src="{% static 'lo.webp' %}" alt="Logo" class="logo">
        </div>
        <h2>WarabaGuinée</h2>
        <hr>    
    <a href="{% url 'table' %}"><i class="fas fa-home"></i> Tableau de bord</a>
    <a href="{% url 'site' %}"><i class="fas fa-store"></i> Voir ma boutique</a>
    <a href="{% url 'sliders' %}"><i class="fas fa-images"></i> Gestion sliders</a>
    <a href="{% url 'produits' %}"><i class="fas fa-box"></i> Gestion produits</a>
    <a href="{% url 'localisation' %}"><i class="fas fa-map-marker-alt"></i> Localisation</a>
    <a href="{% url 'commandes_utilisateur' %}"><i class="fas fa-shopping-cart"></i>Commandes</a>
    <a href="{% url 'vente_list' %}"><i class="fas fa-chart-line"></i> Ventes en hausse</a>
    <a href="{% url 'update_quantite' %}"><i class="fas fa-cogs"></i> Gestion des stocks</a>
    <a href="{% url 'statistiques_commandes' %}"><i class="fas fa-chart-bar"></i>Croissance des commandes</a>
    <a href="{% url 'statut_validation_compte' %}"><i class="fas fa-headset"></i> Support client</a>
    <a href=""><i class="fas fa-bell"></i> Notifications</a>
    <a href="{% url 'profil' %}"><i class="fas fa-cogs"></i> Paramètres</a>
    <a href="{% url 'gestion_boutique' %}"><i class="fas fa-upload"></i> Publier le site</a>
    <a href="{% url 'logout' %}"><i class="fas fa-sign-out-alt" style="margin-right: 8px;"></i> Déconnexion</a>
    <a href=""></a>
    </div>
    
    <div class="content">
      <div class="container d-flex justify-content-center align-items-center vh-100">
        <div class="col-lg-6 col-md-8 col-sm-12">
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
                <!-- En-tête de la carte -->
                <div class="card-header bg-gradient-primary text-white text-center py-4 position-relative">
                    <div class="blur-circle"></div>
                    <div class="icon-container mb-3 position-relative">
                        <i class="fas fa-store fa-3x"></i>
                    </div>
                    <h3 class="mb-0 fw-bold position-relative">Gestion de Boutique</h3>
                </div>
    
                {% if statut_validation_compte == 'attente' %}
                <!-- Message si compte en attente -->
                <div class="alert alert-warning alert-modern m-4 rounded-3" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-clock fa-xl me-3"></i>
                        <div>
                            <h5 class="alert-heading fw-bold mb-1">Validation en attente</h5>
                            <p class="mb-0">Veuillez finaliser la validation de votre compte.</p>
                        </div>
                    </div>
                </div>
                {% elif statut_validation_compte == 'invalider' %}
                <!-- Message si compte invalide -->
                <div class="alert alert-danger alert-modern m-4 rounded-3" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-ban fa-xl me-3"></i>
                        <div>
                            <h5 class="alert-heading fw-bold mb-1">Compte invalidé</h5>
                            <p class="mb-0">Votre compte nécessite une vérification.</p>
                        </div>
                    </div>
                </div>
                {% else %}
                <!-- Formulaire principal -->
                <div class="card-body p-4">
                  <form id="boutiqueForm" method="POST" enctype="multipart/form-data" action="{% url 'gestion_boutique' %}">
                    {% csrf_token %}
                    {% for field in form %}
                        <div class="form-group mb-4">
                            <label for="{{ field.id_for_label }}" class="form-label fw-bold d-flex align-items-center">
                                {% if field.name == 'titre' %}
                                    <i class="fas fa-heading me-2 text-primary"></i>
                                {% elif field.name == 'publier' %}
                                    <i class="fas fa-bullhorn me-2 text-primary"></i>
                                {% elif field.name == 'logo' %}
                                    <i class="fas fa-camera me-2 text-primary"></i>
                                {% elif field.name == 'statut_publication' %}
                                    <i class="fas fa-toggle-on me-2 text-primary"></i>
                                {% endif %}
                                {{ field.label }}
                            </label>
                            {{ field }}
                            {% if field.help_text and field.name == 'titre' %}
                                <small class="form-text text-muted">{{ field.help_text }}</small>
                            {% endif %}
                            {% if field.errors %}
                                <div class="text-danger small mt-2 d-flex align-items-start">
                                    <i class="fas fa-info-circle mt-1 me-1"></i>
                                    <span>{{ field.errors|striptags }}</span>
                                </div>
                            {% endif %}
                        </div>
                    {% endfor %}
                
                    <div class="d-grid mt-4">
                        <button id="submitBtn" type="submit" class="btn btn-primary btn-lg py-3 fw-bold rounded-pill position-relative">
                            <span id="buttonText">appliquer</span>
                            <span id="submitSpinner" class="spinner-container">
                                <span class="spinner-outer"></span>
                                <span class="spinner-inner"></span>
                            </span>
                        </button>
                    </div>
                </form>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    </div>
 <!-- Ajouter des sons -->
 <audio id="successSound" src="{% static 'scusses.mp3' %}" preload="auto"></audio>
 <audio id="loadSound" src="{% static 'son1.mp3' %}" preload="auto"></audio>
 <audio id="errorSound" src="{% static 'son2.mp3' %}" preload="auto"></audio>

 <script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/js/all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Configuration des thèmes
const themes = {
  light: {
      bg: 'rgba(255, 255, 255, 0.97)',
      text: '#333',
      border: 'rgba(0, 0, 0, 0.1)',
      progress: 'linear-gradient(90deg, rgba(78, 115, 255, 0.8), rgba(46, 204, 113, 0.8))'
  }
};

// Fonction pour jouer le son avec gestion moderne des erreurs
function playNotificationSound() {
  const sound = document.getElementById('notification-sound');
  if (!sound) return;

  const playSound = () => {
      sound.currentTime = 0;
      sound.volume = 0.8;
      sound.play().catch(e => console.debug("Sound play prevented:", e));
  };

  // Essayer de jouer immédiatement
  playSound();
  
  // Si bloqué, attendre une interaction utilisateur
  if (sound.paused) {
      const enableSound = () => {
          playSound();
          document.removeEventListener('click', enableSound);
          document.removeEventListener('keydown', enableSound);
      };
      document.addEventListener('click', enableSound, { once: true });
      document.addEventListener('keydown', enableSound, { once: true });
  }
}

// Fermeture de notification avec animation fluide
function closeNotification(closeButton) {
  const notification = closeButton.closest('.notification-modal');
  if (!notification) return;
  
  notification.classList.add('closing');
  setTimeout(() => {
      notification.classList.remove('show', 'closing');
      notification.remove();
  }, 300);
}

// Affichage de notification avec effets modernes
function showNotification(notificationElement) {
  // Appliquer le thème light par défaut
  const themeConfig = themes.light;
  
  notificationElement.style.setProperty('--bg-color', themeConfig.bg);
  notificationElement.style.setProperty('--text-color', themeConfig.text);
  notificationElement.style.setProperty('--border-color', themeConfig.border);
  notificationElement.style.setProperty('--progress-gradient', themeConfig.progress);

  // Animation d'entrée
  notificationElement.classList.add('show');
  playNotificationSound();
  
  // Barre de progression animée
  const progressBar = notificationElement.querySelector('.progress-bar');
  if (progressBar) {
      progressBar.style.width = '100%';
      setTimeout(() => {
          progressBar.style.transition = 'width 5s linear';
          progressBar.style.width = '0%';
      }, 50);
  }

  // Fermeture automatique après délai
  let timeoutId = setTimeout(() => {
      notificationElement.classList.add('closing');
      setTimeout(() => notificationElement.remove(), 300);
  }, 5000);

  // Réinitialiser le timeout si la souris entre
  notificationElement.addEventListener('mouseenter', () => {
      clearTimeout(timeoutId);
      if (progressBar) progressBar.style.transition = 'none';
  });

  // Redémarrer le timeout si la souris sort
  notificationElement.addEventListener('mouseleave', () => {
      if (progressBar) {
          const remaining = (parseFloat(progressBar.style.width) / 100) * 5000;
          progressBar.style.transition = `width ${remaining}ms linear`;
          progressBar.style.width = '0%';
      }
      timeoutId = setTimeout(() => {
          notificationElement.classList.add('closing');
          setTimeout(() => notificationElement.remove(), 300);
      }, progressBar ? remaining : 5000);
  });
}

// Initialisation
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.notification-modal').forEach(notification => {
      showNotification(notification);
  });
});

// Gestion des clics en dehors pour fermer
document.addEventListener('click', (e) => {
  if (!e.target.closest('.notification-modal')) {
      document.querySelectorAll('.notification-modal.show').forEach(modal => {
          modal.classList.add('closing');
          setTimeout(() => modal.remove(), 300);
      });
  }
});
    </script>   

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById("boutiqueForm");
        const submitBtn = document.getElementById("submitBtn");
        
        form.addEventListener("submit", function(event) {
            event.preventDefault();
            
            // Activer l'état de chargement
            submitBtn.classList.add('btn-loading');
            submitBtn.disabled = true;
            
            // Simuler le chargement pendant 2 secondes
            setTimeout(() => {
                // Soumettre le formulaire
                form.submit();
            }, 2000);
        });
    });
    </script>    
  <script>

            // Fonction pour ouvrir et fermer le sidebar
const menuBtn = document.querySelector('.menu-btn');
const sidebar = document.querySelector('.sidebar');
const body = document.querySelector('body');

menuBtn.addEventListener('click', () => {
  sidebar.classList.toggle('active');
  
  // Lorsque le sidebar est actif, désactiver le scroll du body
  if (sidebar.classList.contains('active')) {
    body.classList.add('no-scroll');
  } else {
    body.classList.remove('no-scroll');
  }
});
// Fonction pour afficher/masquer la description flottante
// Fonction pour afficher ou masquer la description
function toggleDescription(imageId) {
  var descElement = document.getElementById('desc' + imageId);
  var buttonElement = document.getElementById('toggleDesc' + imageId);
  
  if (descElement.style.display === "none") {
      descElement.style.display = "block";
      buttonElement.innerHTML = "Masquer la description"; // Change le texte du bouton
  } else {
      descElement.style.display = "none";
      buttonElement.innerHTML = "Voir la description"; // Réinitialise le texte du bouton
  }
}
    

  </script>

  <!-- Bootstrap JS (facultatif pour certaines interactions) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<!-- Modal de suppression -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"> <!-- Ajout de classes pour le centrage et le défilement -->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Supprimer le produit</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Êtes-vous sûr de vouloir supprimer ce produit ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                <button type="button" class="btn btn-danger" id="confirmDelete">Supprimer</button>
            </div>
        </div>
    </div>
</div>
</body>
</html>
